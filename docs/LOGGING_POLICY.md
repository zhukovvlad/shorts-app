# –ü–æ–ª–∏—Ç–∏–∫–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –≤ –ø—Ä–æ–µ–∫—Ç–µ

## –û–±–∑–æ—Ä

–í –ø—Ä–æ–µ–∫—Ç–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è —á–µ—Ä–µ–∑ –º–æ–¥—É–ª—å `lib/logger.ts`. –ü—Ä—è–º–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `console.*` **–Ω–µ –¥–æ–ø—É—Å–∫–∞–µ—Ç—Å—è** –∑–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ–º —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤.

## –ü—Ä–∞–≤–∏–ª–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### ‚úÖ Backend (Server-side code)

**–í–°–ï–ì–î–ê –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `logger`:**

```typescript
import { logger } from '@/lib/logger';

// ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ
logger.info('User created', { userId });
logger.error('Failed to process', { error });
logger.warn('Rate limit approaching', { count });
logger.debug('Debug info', { data });

// ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ
console.log('User created', userId);
console.error('Failed to process', error);
```

**–ì–¥–µ –ø—Ä–∏–º–µ–Ω—è—Ç—å:**
- API routes (`app/api/**/route.ts`)
- Server actions (`app/actions/*.ts`)
- Server libraries (`app/lib/*.ts`, `lib/*.ts`)
- Worker processes (`worker/*.ts`)

### ‚úÖ Frontend (Client-side code)

**–î–ª—è production –ù–ï –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–Ω—Å–æ–ª—å.** –ï—Å–ª–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ –≤ development, –æ–±–æ—Ä–∞—á–∏–≤–∞–π—Ç–µ –≤ –ø—Ä–æ–≤–µ—Ä–∫—É –æ–∫—Ä—É–∂–µ–Ω–∏—è:

```typescript
// ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ - —Ç–æ–ª—å–∫–æ –≤ development
if (process.env.NODE_ENV === 'development') {
  // eslint-disable-next-line no-console
  console.log('Debug info:', data);
}

// ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ - –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –≤ production
console.log('Debug info:', data);
```

**–ì–¥–µ –ø—Ä–∏–º–µ–Ω—è—Ç—å:**
- React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (`app/components/*.tsx`)
- Client hooks (`app/hooks/*.ts`)
- Client utilities

**–í–º–µ—Å—Ç–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ:**
- Toast —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (`toast.error`, `toast.success`)
- –û—Ç–ø—Ä–∞–≤–∫—É –æ—à–∏–±–æ–∫ –≤ —Å–∏—Å—Ç–µ–º—É –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ (–µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞)

### ‚úÖ –ò—Å–∫–ª—é—á–µ–Ω–∏—è

**–î–æ–ø—É—Å—Ç–∏–º–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `console` –±–µ–∑ –æ–±–µ—Ä—Ç–æ–∫:**

1. **–°–∞–º –ª–æ–≥–≥–µ—Ä** (`lib/logger.ts`) - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `console` –¥–ª—è –≤—ã–≤–æ–¥–∞
2. **–°–∫—Ä–∏–ø—Ç—ã** (`scripts/*.js`) - —É—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏/–¥–µ–ø–ª–æ—è
3. **–¢–µ—Å—Ç—ã** (`*.spec.ts`, `*.test.ts`) - –æ—Ç–ª–∞–¥–∫–∞ —Ç–µ—Å—Ç–æ–≤

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

### üéØ Logger vs Console

| –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å | `logger` | `console` |
|------------|----------|-----------|
| –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ | ‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ | ‚ùå –°—ã—Ä–æ–π —Ç–µ–∫—Å—Ç |
| –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ | ‚úÖ Timestamp, context | ‚ùå –ù–µ—Ç |
| –ó–∞–ø–∏—Å—å –≤ —Ñ–∞–π–ª—ã | ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ | ‚ùå –ù–µ—Ç |
| –£—Ä–æ–≤–Ω–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è | ‚úÖ DEBUG/INFO/WARN/ERROR | ‚ö†Ô∏è –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ |
| Production ready | ‚úÖ –î–∞ | ‚ùå –ù–µ—Ç |
| –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è | ‚úÖ –ü–æ —É—Ä–æ–≤–Ω—è–º | ‚ùå –ù–µ—Ç |

### üì¶ –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

Logger –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:

```typescript
// ‚úÖ –û—Ç–ª–∏—á–Ω–æ - —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º
logger.error('Video processing failed', {
  videoId: '123',
  step: 'render',
  error: error.message,
  retryCount: 3
});

logger.warn('IMAGE_MODELS is empty, using fallback default model', {
  fallbackModel: 'ideogram-v3-turbo',
  fallbackModelName: 'Ideogram V3 Turbo'
});

// ‚ùå –ü–ª–æ—Ö–æ - –Ω–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—Ç—Ä–æ–∫–∞
console.error(`Video processing failed for ${videoId} at ${step}: ${error}`);
```

### üìù –†–æ—Ç–∞—Ü–∏—è –ª–æ–≥–æ–≤

–õ–æ–≥–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–æ—Ç–∏—Ä—É—é—Ç—Å—è –∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ `logs/`:
- `server-info-YYYY-MM-DD.log` - —Å–µ—Ä–≤–µ—Ä–Ω—ã–µ –ª–æ–≥–∏
- `worker-info-YYYY-MM-DD.log` - worker –ª–æ–≥–∏

–°—Ç–∞—Ä—ã–µ –ª–æ–≥–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∞—Ä—Ö–∏–≤–∏—Ä—É—é—Ç—Å—è —Å–∫—Ä–∏–ø—Ç–∞–º–∏ –≤ `scripts/rotate-logs*.sh`.

## –ú–∏–≥—Ä–∞—Ü–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –∫–æ–¥–∞

### –®–∞–±–ª–æ–Ω—ã –∑–∞–º–µ–Ω—ã

```typescript
// –î–æ
console.error('Error occurred:', error);

// –ü–æ—Å–ª–µ
import { logger } from '@/lib/logger';
logger.error('Error occurred', { error });
```

```typescript
// –î–æ (–∫–ª–∏–µ–Ω—Ç)
console.log('User action:', data);

// –ü–æ—Å–ª–µ
if (process.env.NODE_ENV === 'development') {
  // eslint-disable-next-line no-console
  console.log('User action:', data);
}
// –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ toast –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
toast.info('Action completed');
```

## ESLint –ø—Ä–∞–≤–∏–ª–æ

–í –ø—Ä–æ–µ–∫—Ç–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ –ø—Ä–∞–≤–∏–ª–æ `no-console`, –∫–æ—Ç–æ—Ä–æ–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–∞–µ—Ç –æ –ø—Ä—è–º–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ `console`. –î–ª—è –æ–±—Ö–æ–¥–∞ –≤ –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω—ã—Ö —Å–ª—É—á–∞—è—Ö –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ:

```typescript
// eslint-disable-next-line no-console
console.log('Development debug');
```

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è

–î–ª—è –ø–æ–∏—Å–∫–∞ –≤—Å–µ—Ö `console` –≤ –ø—Ä–æ–µ–∫—Ç–µ:

```bash
# –ù–∞–π—Ç–∏ –≤—Å–µ console –≤—ã–∑–æ–≤—ã
grep -r "console\." --include="*.ts" --include="*.tsx" app/ lib/ worker/

# –ò—Å–∫–ª—é—á–∞—è –¥–æ–ø—É—Å—Ç–∏–º—ã–µ —Ñ–∞–π–ª—ã
grep -r "console\." --include="*.ts" --include="*.tsx" app/ lib/ worker/ \
  --exclude-dir="node_modules" | grep -v "eslint-disable"
```

## –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

- **2025-10-05**: –ó–∞–≤–µ—Ä—à–µ–Ω–∞ –ø–æ–ª–Ω–∞—è –º–∏–≥—Ä–∞—Ü–∏—è –Ω–∞ —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
  - ‚úÖ –ó–∞–º–µ–Ω–µ–Ω—ã –≤—Å–µ `console` –≤ backend –∫–æ–¥–µ –Ω–∞ `logger`
  - ‚úÖ –û–±–µ—Ä–Ω—É—Ç—ã –≤—Å–µ `console` –≤ frontend –∫–æ–¥–µ –ø—Ä–æ–≤–µ—Ä–∫–æ–π `NODE_ENV`
  - ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã `eslint-disable-next-line` –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏
  - ‚úÖ –°–æ–∑–¥–∞–Ω–∞ –¥–∞–Ω–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

## –°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã

- [LOGGING.md](./LOGGING.md) - –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è logger
- [CHANGELOG.md](../CHANGELOG.md) - –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –ø—Ä–æ–µ–∫—Ç–∞
